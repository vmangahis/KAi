{% extends 'main.html' %}

{% block content %}
{% csrf_token %}

<main class="container-fluid mt-5 p-5 watchlist-main-container">
    <div class="watchlist-controllers mb-5">
                 
            <div class="buttonSwitch">
                <button type="button"  id='watchlist-button' class='button-switch'>Watchlist</button>
                <button type="button" id='readlist-button' class="button-switch">Reading List</button>
            </div>

    </div>
    

    
    <div class="container-fluid watchlist-card-container" id="watchlist-card-container">

            {% if list %}
            {% for lst in list %}
            
            <div class="list-card text-light"> 
                {% if 'watchlist' in request.path %}
            <a href="{% url 'AnimPage' lst.id %}">
            
            {% elif 'readlist' in request.path %}
            <a href="{% url 'MangPage' lst.id %}">
            {% endif %}
                <img src="https://via.placeholder.com/300x500" alt="{{ lst.title }}" class="list-card-image" />
            </a>
                <div class="title-info-text">
                    <h5 class="text-start">{{ lst.title }}</h5>
                    <p class="text-start">{% for gn in lst.genre.all %}{{ gn.name }}{% if not forloop.last %}, {% endif %}{% endfor %}</p>
                </div> 
            
            </div>
            {% endfor %}

            {% else %}
            <div class = "list-card text-light"><h1 class="text-light blank-list">You got nothing to read/watch at the moment.</h1></div>
            {% endif %}
    </div>
</main>



{{  request.user.id|json_script:'user_id'  }}

{% endblock %}

